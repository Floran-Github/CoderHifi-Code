<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Add the slick-theme.css if you want default styling -->
  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
  <!-- Add the slick-theme.css if you want default styling -->
  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
  <script src="js/index.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/font-awesome.min.css">
  <link id="theme" rel="stylesheet" href="css/girls-theme.css">
  <link rel="stylesheet" href="css/index.css">
  <title>CoderHi</title>
</head>

<body>
  <!-- upar ka navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <!-- brand area -->
      <a class="navbar-brand" href="#">CoderHi</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="blog-page.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="project-page.html">Projects</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="main-course-page.html">Learn</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="event-page.html">Event</a>
          </li>
          <li class="nav-item">
            <div class="theme-toggler">
              Day <input type="checkbox" class="theme-change" onclick="MaintoggleTheme()"> Night
            </div>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
              <img src="pic/default.jpg" class="rounded-circle profile-img">
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="profile_page.html">Profile</a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li><a class="dropdown-item" href="#">Sign Out</a></li>
            </ul>
          </li>

        </ul>

      </div>

    </div>
  </nav>


  <div class="container main">
    <div class="row">
      <div class="col-12 col-md-10 container-style">
        <!-- blog-section -->
        <form>

            <div class="blog-sec">
                <style>
                    textarea{
                    padding: 10px;
                    height: 200px;
                }
                .ans{
                    width: 100%;
                    margin: 10px 0px;
                    padding: 5px 10px;
                }
                .check{
                    margin-top: 20px;
                }
                
                </style>
                <div class="quiz">

                </div>
                <input type="button" value="submit" onclick="readData()">
                <input type="button" value="Create new section" onclick="createSection()">
        </div>
    </form>
          </div>
        </div>
      </div>



      <!-- Event Sidebar -->
    <script>
        var index = 1
        createSection()

        function createSection(){
            console.log('youyo')
            var mainDiv = document.createElement('div')
            mainDiv.classList.add('row')
            mainDiv.classList.add('maindiv')
            
            question_tag = document.createElement('h5')
            question_tag.innerText = 'Question '
            mainDiv.appendChild(question_tag)
            var textareaDiv = document.createElement('div')
            textareaDiv.classList.add('row')
            
            var textarea = document.createElement('textarea')
            textarea.placeholder = 'Enter the question here'
            textarea.required = true
            textareaDiv.appendChild(textarea)

            var answerDiv = document.createElement('div')
            answerDiv.classList.add('row')
            var answer_tag = document.createElement('h5')
            answer_tag.innerText = 'Answers '
            answerDiv.appendChild(answer_tag)
            
            for(i = 0 ; i < 4; i++){
                
                var answer1Div = document.createElement('div')
                answer1Div.classList.add('col-md-6')
                answer1Div.classList.add('col-12')
                
                var ansDiv = document.createElement('div')
                ansDiv.classList.add('row')
                
                var checkDiv = document.createElement('div')
                checkDiv.classList.add('col-1')
                var inputDiv = document.createElement('div')
                inputDiv.classList.add('col-10')
                
                var ansCheck = document.createElement('input')
                ansCheck.setAttribute("type", "radio")
                ansCheck.id = `${i+1}${index}`
                ansCheck.classList.add('check')
                ansCheck.name = 'check'+index

                var ansText = document.createElement('input')
                ansText.setAttribute("type", "text")
                ansText.required = true
                ansText.classList.add('ans')
                ansText.validity.valid
                ansText.placeholder = 'Enter the answer here'
                ansText.id = `ans${i+1}${index}`

                checkDiv.appendChild(ansCheck)
                inputDiv.appendChild(ansText)
                ansDiv.appendChild(checkDiv)
                ansDiv.appendChild(inputDiv)
                answer1Div.appendChild(ansDiv)

                answerDiv.appendChild(answer1Div)
            }


            mainDiv.appendChild(textareaDiv)
            mainDiv.appendChild(answerDiv)

            document.getElementsByClassName('quiz')[0].appendChild(mainDiv)
            index += 1
        
        }

        $('input[type="checkbox"]').on('change', function() {
            $('input[name="' + this.name + '"]').not(this).prop('checked', false);
        });

        function checkForm(){
            var textEle = document.querySelectorAll('textarea')
            var inputELe = document.querySelectorAll('input')
            
            for(i = 0; i < textEle.length;i++){
                if(textEle[i].value === ''){
                    alert('textarea empty please fill the form correctly')
                    return
                }
            }
            for(i =0; i < inputELe.length; i++){
                if(inputELe[i].type === 'text' && inputELe[i].value === ''){
                    alert('answer empty please fill the form correctly')
                    return

                }
            }
            var numberOfCheckedRadio = $('input:radio:checked').length
            if(textEle.length !== numberOfCheckedRadio ){
                alert('You forgot to select correct answer. please remember to select one radio button in each section')
                return

            }

        }



        function readData(){
            checkForm()
            questions = []
            answerOption = []
            correctAnswer = []
            
            var textEle = document.querySelectorAll('textarea')
            var inputELe = document.querySelectorAll('input')

            for(i = 0; i < textEle.length;i++){
                questions.push(textEle[i].value)
            }

            for(i =0; i < inputELe.length; i++){
                if(inputELe[i].type === "radio" && inputELe[i].checked){
                    var id = inputELe[i].id
                    var correct = document.getElementById('ans'+id)
                    correctAnswer.push(correct.value)
                }
                if(inputELe[i].type === 'text'){
                    answerOption.push(inputELe[i].value)
                }
            }


            console.log(questions)
            console.log(answerOption)
            console.log(correctAnswer)


        
        }

    </script>



</body>

</html>